# Backend
## Общий план
Основа -> БД -> Кеширование -> Почта -> Админка -> Авторизация -> Контейнеризация -> Тестирование -> Платежка -> Тестирование -> Оптимизация -> Деплоймент -> Финальное тестирование
---


## Методические рекомендации
- После клонирования создавать ветку со своим ником в ТГ
- Требуется наличие дополнительных ПО: PostgreSQL, PGadmin4, Redis + Docker
- В корне backend сделать файл `.env`

```
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=localhost
POSTGRES_DB=fastapi
POSTGRES_PORT=5432

SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
SMTP_USER=ваша почта откуда сообщение
SMTP_PASS=пароль создается после двухфакторной авторизации с добавлнием приложения

EMAIL_TO=вторая почта или первая для тестов

REDIS_HOST=localhost
REDIS_PORT=6379
```
- Добавить туда свои данные БД для сверки работы
- Если разработка ведется в VS Code, то тыкайте на файл `requirements.txt` и соглашайтесь с установкой виртуального окружения, если вы используйте PyCharm или иные среды разработки, тогда в командной строке прописывайте команду из корня `pip install -r requirements.txt`
- Требуется провести миграцию до последнего обновления из корня введите команду `alembic upgrade head`
- Для запуска проекта из корня введите команду `uvicorn app.main:app --reload`
- Для запуска фоновой задачи с отправкой почты из корня введите команду `celery -A app.tasks.celery:celery worker --loglevel=INFO`

**ВАЖНО**
- Отправка фото ТОЛЬКО формата png и jpg, форматы svg и webp НЕ ПОДДЕРЖИВАЮТСЯ 
- Проверяйте работу Redis перед работой с проектом
- В папке `app` создать папку с названием `static` для хранения фото